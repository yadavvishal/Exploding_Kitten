{"ast":null,"code":"var _jsxFileName = \"/home/vishal/Desktop/redisProj/React_Assign/React_redis_assign/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport { useSelector } from \"react-redux\";\nimport io from \"socket.io-client\";\nimport { useEffect } from \"react\";\nimport Leaderboard from \"./components/leaderboard/Leaderboard\";\nimport { useActions } from \"./hooks/useActions\";\nimport Game from \"./components/game/Game\";\nimport { baseURL } from \"./apis/endpoints\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const userName = useSelector(state => {\n    var _state$gameState;\n    return (_state$gameState = state.gameState) === null || _state$gameState === void 0 ? void 0 : _state$gameState.userName;\n  });\n  const cards = useSelector(state => {\n    var _state$gameState2;\n    return (_state$gameState2 = state.gameState) === null || _state$gameState2 === void 0 ? void 0 : _state$gameState2.gameCards;\n  });\n  const {\n    requestGameState,\n    updateLeaderboard,\n    setUserName\n  } = useActions();\n  const socket = io(baseURL, {\n    transports: [\"websocket\"]\n  });\n  useEffect(() => {\n    // prompt to enter userName\n    const enterName = () => {\n      if (!userName) {\n        let name = prompt(\"enter your name!\");\n        setUserName(name);\n        return name;\n      }\n    };\n    // fetch the game state of the user\n    requestGameState({\n      userName: enterName()\n    });\n\n    // Listen for leaderboard updates\n    socket.on(\"leaderboardUpdate\", leaderboard => {\n      console.log(\"Leaderboard updated:\", leaderboard);\n      updateLeaderboard(leaderboard);\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [requestGameState, setUserName, socket, updateLeaderboard, userName]);\n  console.log(\"cards\", cards);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Game, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Leaderboard, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(App, \"r+55jSPse/su+rmDmZgx8IaDumQ=\", false, function () {\n  return [useSelector, useSelector, useActions];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useSelector","io","useEffect","Leaderboard","useActions","Game","baseURL","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","userName","state","_state$gameState","gameState","cards","_state$gameState2","gameCards","requestGameState","updateLeaderboard","setUserName","socket","transports","enterName","name","prompt","on","leaderboard","console","log","disconnect","children","className","style","display","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/vishal/Desktop/redisProj/React_Assign/React_redis_assign/frontend/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport { useSelector } from \"react-redux\";\nimport io from \"socket.io-client\";\n\nimport { useEffect } from \"react\";\nimport Leaderboard from \"./components/leaderboard/Leaderboard\";\nimport { useActions } from \"./hooks/useActions\";\nimport Game from \"./components/game/Game\";\nimport { baseURL } from \"./apis/endpoints\";\n\nfunction App() {\n  const userName = useSelector((state) => state.gameState?.userName);\n  const cards = useSelector((state) => state.gameState?.gameCards);\n  const { requestGameState, updateLeaderboard, setUserName } = useActions();\n  const socket = io(baseURL, { transports: [\"websocket\"] });\n\n  useEffect(() => {\n    // prompt to enter userName\n    const enterName = () => {\n      if (!userName) {\n        let name = prompt(\"enter your name!\");\n        setUserName(name);\n        return name;\n      }\n    };\n    // fetch the game state of the user\n    requestGameState({ userName: enterName() });\n\n    // Listen for leaderboard updates\n    socket.on(\"leaderboardUpdate\", (leaderboard) => {\n      console.log(\"Leaderboard updated:\", leaderboard);\n      updateLeaderboard(leaderboard);\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ requestGameState, setUserName, socket, updateLeaderboard, userName]);\n\n  console.log(\"cards\", cards);\n\n  return (\n    <>\n      <div className=\"container\" style={{ display: \"flex\" }}>\n        <Game />\n        <Leaderboard />\n      </div>\n    </>\n  );\n}\nexport default App;\n"],"mappings":";;AAAA,OAAO,WAAW;AAClB,SAASA,WAAW,QAAQ,aAAa;AACzC,OAAOC,EAAE,MAAM,kBAAkB;AAEjC,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,WAAW,MAAM,sCAAsC;AAC9D,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,OAAOC,IAAI,MAAM,wBAAwB;AACzC,SAASC,OAAO,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE3C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAMC,QAAQ,GAAGb,WAAW,CAAEc,KAAK;IAAA,IAAAC,gBAAA;IAAA,QAAAA,gBAAA,GAAKD,KAAK,CAACE,SAAS,cAAAD,gBAAA,uBAAfA,gBAAA,CAAiBF,QAAQ;EAAA,EAAC;EAClE,MAAMI,KAAK,GAAGjB,WAAW,CAAEc,KAAK;IAAA,IAAAI,iBAAA;IAAA,QAAAA,iBAAA,GAAKJ,KAAK,CAACE,SAAS,cAAAE,iBAAA,uBAAfA,iBAAA,CAAiBC,SAAS;EAAA,EAAC;EAChE,MAAM;IAAEC,gBAAgB;IAAEC,iBAAiB;IAAEC;EAAY,CAAC,GAAGlB,UAAU,CAAC,CAAC;EACzE,MAAMmB,MAAM,GAAGtB,EAAE,CAACK,OAAO,EAAE;IAAEkB,UAAU,EAAE,CAAC,WAAW;EAAE,CAAC,CAAC;EAEzDtB,SAAS,CAAC,MAAM;IACd;IACA,MAAMuB,SAAS,GAAGA,CAAA,KAAM;MACtB,IAAI,CAACZ,QAAQ,EAAE;QACb,IAAIa,IAAI,GAAGC,MAAM,CAAC,kBAAkB,CAAC;QACrCL,WAAW,CAACI,IAAI,CAAC;QACjB,OAAOA,IAAI;MACb;IACF,CAAC;IACD;IACAN,gBAAgB,CAAC;MAAEP,QAAQ,EAAEY,SAAS,CAAC;IAAE,CAAC,CAAC;;IAE3C;IACAF,MAAM,CAACK,EAAE,CAAC,mBAAmB,EAAGC,WAAW,IAAK;MAC9CC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEF,WAAW,CAAC;MAChDR,iBAAiB,CAACQ,WAAW,CAAC;IAChC,CAAC,CAAC;IAEF,OAAO,MAAM;MACXN,MAAM,CAACS,UAAU,CAAC,CAAC;IACrB,CAAC;EACH,CAAC,EAAE,CAAEZ,gBAAgB,EAAEE,WAAW,EAAEC,MAAM,EAAEF,iBAAiB,EAAER,QAAQ,CAAC,CAAC;EAEzEiB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEd,KAAK,CAAC;EAE3B,oBACET,OAAA,CAAAE,SAAA;IAAAuB,QAAA,eACEzB,OAAA;MAAK0B,SAAS,EAAC,WAAW;MAACC,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAH,QAAA,gBACpDzB,OAAA,CAACH,IAAI;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACRhC,OAAA,CAACL,WAAW;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ;EAAC,gBACN,CAAC;AAEP;AAAC5B,EAAA,CAvCQD,GAAG;EAAA,QACOX,WAAW,EACdA,WAAW,EACoCI,UAAU;AAAA;AAAAqC,EAAA,GAHhE9B,GAAG;AAwCZ,eAAeA,GAAG;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}